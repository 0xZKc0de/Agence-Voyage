<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <img src="image.png" alt="Logo Agence Voyage" class="logo">
      <h1>Inscription Client</h1>
      <p class="subtitle">Créez votre compte pour réserver vos voyages</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="sinscrire()" class="register-form">
      <div class="form-row">
        <div class="form-group">
          <label for="prenom">Prénom *</label>
          <input
            type="text"
            id="prenom"
            formControlName="prenom"
            placeholder="Votre prénom"
            [class.error]="registerForm.get('prenom')?.invalid && registerForm.get('prenom')?.touched">
          <div *ngIf="registerForm.get('prenom')?.invalid && registerForm.get('prenom')?.touched" class="error-message">
            <span *ngIf="registerForm.get('prenom')?.errors?.['required']">Prénom requis</span>
            <span *ngIf="registerForm.get('prenom')?.errors?.['minlength']">Minimum 2 caractères</span>
          </div>
        </div>

        <div class="form-group">
          <label for="nom">Nom *</label>
          <input
            type="text"
            id="nom"
            formControlName="nom"
            placeholder="Votre nom"
            [class.error]="registerForm.get('nom')?.invalid && registerForm.get('nom')?.touched">
          <div *ngIf="registerForm.get('nom')?.invalid && registerForm.get('nom')?.touched" class="error-message">
            <span *ngIf="registerForm.get('nom')?.errors?.['required']">Nom requis</span>
            <span *ngIf="registerForm.get('nom')?.errors?.['minlength']">Minimum 2 caractères</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          placeholder="votre@email.com"
          [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error-message">
          <span *ngIf="registerForm.get('email')?.errors?.['required']">Email requis</span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">Email invalide</span>
        </div>
      </div>

      <div class="form-group">
        <label for="telephone">Téléphone *</label>
        <input
          type="tel"
          id="telephone"
          formControlName="telephone"
          placeholder="0623456789"
          [class.error]="registerForm.get('telephone')?.invalid && registerForm.get('telephone')?.touched">
        <div *ngIf="registerForm.get('telephone')?.invalid && registerForm.get('telephone')?.touched" class="error-message">
          <span *ngIf="registerForm.get('telephone')?.errors?.['required']">Téléphone requis</span>
          <span *ngIf="registerForm.get('telephone')?.errors?.['pattern']">10 chiffres requis</span>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="motDePasse">Mot de passe *</label>
          <input
            type="password"
            id="motDePasse"
            formControlName="motDePasse"
            placeholder="••••••••"
            [class.error]="registerForm.get('motDePasse')?.invalid && registerForm.get('motDePasse')?.touched">
          <div *ngIf="registerForm.get('motDePasse')?.invalid && registerForm.get('motDePasse')?.touched" class="error-message">
            <span *ngIf="registerForm.get('motDePasse')?.errors?.['required']">Mot de passe requis</span>
            <span *ngIf="registerForm.get('motDePasse')?.errors?.['minlength']">Minimum 8 caractères</span>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmMotDePasse">Confirmation *</label>
          <input
            type="password"
            id="confirmMotDePasse"
            formControlName="confirmMotDePasse"
            placeholder="••••••••"
            [class.error]="(registerForm.get('confirmMotDePasse')?.invalid || registerForm.errors?.['passwordMismatch']) && registerForm.get('confirmMotDePasse')?.touched">
          <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmMotDePasse')?.touched" class="error-message">
            Les mots de passe ne correspondent pas
          </div>
        </div>
      </div>

      <div *ngIf="errorMessage" class="alert alert-error" style="background: #fff5f5; color: #d98282; padding: 12px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #f8d7da; font-size: 14px; text-align: center;">
        {{ errorMessage }}
      </div>

      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>

      <button
        type="submit"
        class="btn-register"
        [disabled]="registerForm.invalid || isLoading">
        <span *ngIf="!isLoading">S'inscrire</span>
        <span *ngIf="isLoading">Création en cours...</span>
      </button>

      <div class="register-footer">
        <p>Déjà un compte ?
          <a (click)="allerVersLogin()" class="link" style="cursor: pointer; color: #a38f6d; font-weight: 600;">Se connecter</a>
        </p>
        <p class="terms">
          En vous inscrivant, vous acceptez nos
          <a href="#" class="link">Conditions Générales</a>
        </p>
      </div>
    </form>
  </div>
</div>
