<!-- trips/trips.component.html -->
<div class="trips-page" [class.sidebar-active]="hasActiveChild()">

  <!-- Header -->
  <div class="trips-header">
    <h2 class="trips-title">Liste des circuits</h2>

    <div class="trips-header-actions">
      <input
        type="text"
        placeholder="Rechercher..."
        [(ngModel)]="searchTerm"
        (ngModelChange)="filterTrips()"
      />

      <button class="btn-add-trip" (click)="addNewTrip()">
        + Ajouter un circuit
      </button>
    </div>
  </div>

  <!-- Main -->
  <div class="trips-main-area">

    <!-- Grid -->
    <div class="trips-grid-section">
      <div class="trips-grid" *ngIf="filteredTrips.length > 0; else noTrips">

        <div
          class="trip-card"
          *ngFor="let trip of filteredTrips"
          (click)="selectTrip(trip)"
        >
          <div class="trip-image">
            <img [src]="trip.imageUrl" />
          </div>

          <div class="trip-content">
            <h3 class="trip-name">{{ trip.nom }}</h3>

            <div class="trip-meta">
              <span>üìç {{ trip.destination }}</span>
              <span class="trip-places">
                {{ trip.placesTotal }} places
              </span>
            </div>
          </div>
        </div>

      </div>

      <ng-template #noTrips>
        <div class="no-trips-message">
          <i class="icon-trip"></i>
          <h3>Aucun circuit trouv√©</h3>
          <button class="btn-add-trip" (click)="addNewTrip()">
            + Ajouter un circuit
          </button>
        </div>
      </ng-template>
    </div>

    <!-- Sidebar -->
    <div class="trips-sidebar-outlet" *ngIf="hasActiveChild()">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>
