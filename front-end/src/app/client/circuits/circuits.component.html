<div class="circuits-page">
  <div class="circuits-header">
    <h2 class="circuits-title">Nos Circuits</h2>

    <div class="circuits-header-actions">
      <input
        type="text"
        placeholder="Rechercher..."
        [(ngModel)]="searchTerm"
        class="search-input"
      />

      <div class="filter-options">
        <select class="filter-select" [(ngModel)]="selectedDestination">
          <option value="">Toutes destinations</option>
          <option *ngFor="let dest of destinations" [value]="dest">{{ dest }}</option>
        </select>
      </div>
    </div>
  </div>

  <div class="circuits-grid">
    <div class="circuit-card" *ngFor="let circuit of circuits" (click)="selectCircuit(circuit)">
      <div class="circuit-image">
        <img [src]="circuit.imageUrl || 'assets/default.jpg'" [alt]="circuit.distination">
        <div class="circuit-price">{{ circuit.prix | number }} DH</div>
      </div>

      <div class="circuit-content">
        <div class="circuit-info-header">
          <span class="circuit-dest">ğŸ“ {{ circuit.distination }}</span>
          <span class="circuit-duration">â±ï¸ {{ circuit.duration || 0 }} jours</span>
        </div>

        <p class="circuit-description">{{ circuit.description }}</p>

        <div class="circuit-details">
          <div class="circuit-date">ğŸ—“ï¸ {{ circuit.dateDepart | date:'dd/MM/yyyy' }}</div>
          <div class="circuit-places">ğŸ·ï¸ {{ circuit.nb_places }} places</div>
        </div>

        <div class="circuit-actions">
          <button class="btn-details">Voir DÃ©tails</button>
        </div>
      </div>
    </div>
  </div>

  <div class="loading-spinner" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>
</div>
